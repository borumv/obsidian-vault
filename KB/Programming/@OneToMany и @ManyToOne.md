
---
created: Monday 27th March 2023 14:21
Last modified: Monday 27th March 2023 14:21
Aliases: –æ—Ç–Ω–æ—à–µ–Ω–∏–µ oneToMany –∏ manyToOne –≤ Hibernate
Tags: programming
---

–û—Ç–Ω–æ—à–µ–Ω–∏–µ OneToMany –∏ ManyToOne –≤ [[üìôHibernate]] - —ç—Ç–æ —Å–≤—è–∑—å –º–µ–∂–¥—É –¥–≤—É–º—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

–û—Ç–Ω–æ—à–µ–Ω–∏–µ *OneToMany* –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É *–æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–µ–π —Å—É—â–Ω–æ—Å—Ç–µ–π –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞*. –ù–∞–ø—Ä–∏–º–µ—Ä, —É —Å—É—â–Ω–æ—Å—Ç–∏ "–ó–∞–∫–∞–∑" –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–µ–π —Å—É—â–Ω–æ—Å—Ç–µ–π "–¢–æ–≤–∞—Ä". –í Hibernate, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏–µ OneToMany, –≤ –∫–ª–∞—Å—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ "–ó–∞–∫–∞–∑" –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @OneToMany –Ω–∞–¥ —Å–≤–æ–π—Å—Ç–≤–æ–º, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä:

```java
@Entity
public class Order {
   @OneToMany(mappedBy = "order")
   private List<Item> items;
   ...
```


–í —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å —Å–≤—è–∑—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ ManyToOne –æ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ "–¢–æ–≤–∞—Ä" –∫ —Å—É—â–Ω–æ—Å—Ç–∏ "–ó–∞–∫–∞–∑", –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @ManyToOne, —É–∫–∞–∑–∞–≤ –∏–º—è –ø–æ–ª—è –≤ –∫–ª–∞—Å—Å–µ "–¢–æ–≤–∞—Ä", –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç "–ó–∞–∫–∞–∑". –ù–∞–ø—Ä–∏–º–µ—Ä:

```java
@Entity
public class Item {
   @ManyToOne
   @JoinColumn(name = "order_id")
   private Order order;
   ...
}
```

–û—Ç–Ω–æ—à–µ–Ω–∏–µ ManyToOne –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ *–º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞*. –ù–∞–ø—Ä–∏–º–µ—Ä, —É —Å—É—â–Ω–æ—Å—Ç–∏ "–¢–æ–≤–∞—Ä" –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –Ω–µ–π –æ–±—ä–µ–∫—Ç "–ó–∞–∫–∞–∑". –í Hibernate, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏–µ ManyToOne, –≤ –∫–ª–∞—Å—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ "–¢–æ–≤–∞—Ä" –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @ManyToOne –Ω–∞–¥ —Å–≤–æ–π—Å—Ç–≤–æ–º, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä:
```java
@Entity
public class Item {
   @ManyToOne
   @JoinColumn(name = "order_id")
   private Order order;
   ...
}
```
–í —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å —Å–≤—è–∑—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ OneToMany –æ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ "–ó–∞–∫–∞–∑" –∫ —Å—É—â–Ω–æ—Å—Ç–∏ "–¢–æ–≤–∞—Ä", –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é **@OneToMany** –Ω–∞–¥ —Å–≤–æ–π—Å—Ç–≤–æ–º, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä:

```java
@Entity
public class Order {
   @OneToMany(mappedBy = "order")
   private List<Item> items;
   ...
}
```

Hibernate –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –∏—Ö —Å–≤—è–∑—è–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.