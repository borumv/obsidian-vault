---
created: Monday 15th May 2023 09:47
Last modified: Monday 15th May 2023 09:47
Aliases: интеграционное тестирование spring приложения
Tags: programming
---

У *[[Integration testing|интеграционных тестов]] Spring-a* есть три основных цели:
1. **[[spring_Dependency Injection|DI механизм]]**, потому что нам необходимо поднимать spring контекст во время запуска наших тестов и внедрять все наши [[spring_Beans|бины]] в качестве тестовых классов  
2. **[[Context caching]] (кэширование контекста)**, чтобы не приходилось создавать [[spring_Context|контекст спринга]] каждый раз, когда мы делаем тест, потому что это очень расточительно 
3. **[[Transactional management]]**. Т.к. мы тестируем взаимодействие с базами данных, нам нужно уменять создавать [[Транзакции+в+PSQL|транзакции]] и уметь их [[ROLLBACK|откатывать]] 

За интеграционные тесты в Spring несёт отвественность класс **TestContextManager**. У него есть два основных поля
- *TestContext*
Этот класс знает про то, какие тесты у нас есть, какие выполняются, а также мы можем получить *Контекст нашего приложения*. Как раз здесь происходит *кэширование* нашего контекста

- *TestExecution Listeners*, сюда TestContextManager переправляет все наши коллбэки (*berforeTestClass*, *beforeTestMethod* и т.д.)

![[Pasted image 20230524132826.png|300]]