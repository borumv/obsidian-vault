**Индекс** - это структура данных, ускоряющая выборку данных из таблицы за счёт дополнительных операций записи и пространства на диске, используемых для хранения структуры данных и поддержания её в актуальном состоянии

- Индекс - это объект БД, который можно создать и удалить
- Позволяет искать значения без полного перебора
- Оптимизация выборки "небольшого" числа (относительного количества) записей
- По [[PRIMARY KEY]] и [[UNIQUE]] столбцам индекс создаётся **автоматически** 
- Индексы не бесплатны

>[!WARNING]
>Индекс **устанавливает соответствие** между **ключом и строками таблицами** где **этот ключ встречается**
>

Чтобы узнать, какие типы индексов [**доступны на моём сервере**](psql_Типы%20индексов.md) используется команда:
```postgresql
SELECT amname FROM pg_am
```

Синтаксис создания:
```postgresql
CREATE INDEX index_name ON table_name (column_name) --создаст Btree по умолчанию
```
**По умолчанию** - [[psql_index_Balanced Tree]]


**Индексы по выражения**
Изменённый регистр букв влияет на использование индекса. Нам необходимо создавать под каждый определённый слуйчай новый индекс.
```postgresql
CREATE INDEX fff_fff_fff ON perf_test (LOWER(annotation))
```

Сложные индексы, связанные с поиском по тексту строятся с помощью модуля pg_trgm, который использует [gin](psql_index%20GIN.md)
```postgresql
CREATE EXTENSION pg_trgm -- подключение модуля
CREATE INDEX tragm_idx_perf_test_reason ON perf_test USING gin(reason gin_trgm_ops)
```
See: [[psql_Устройство Базы Данных]], [[psql_Устройство Таблиц]], [[psql_ANALYSE]], [[psql_Методы сканирования Данных]]

