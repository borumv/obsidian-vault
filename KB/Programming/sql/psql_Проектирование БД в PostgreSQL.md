### Стадии проектирования БД
1. Анализ требования предметной области
	- составление USE CASES (кто действующие лица в предметной области?). Это важно для устройства объектов и субъектов в предметной области.
	- Аналитический процесс вместе с stakeholders
	- Концептуальная схема БД
2. Логическое моделирование данных пердметной обалсти
	- Детализуем концептуальную модель БД
	- Полностью описать все ключи
	- Полностью определить все типы данных
	- Полностью описываем все логические ограничения (спорно)
3 Физическое проектирование и нормализация
	- Выбирается конкретная СУБД
	- Определяются типы данных
	- Определяются индексы
	- Могут определяться представления ([views](psql_Views.md))
	- Определяются ограничения на доступ


**Базовые советы по проектированию**
- **Таблица:** объект, событие, абстракция
- **Поле(колонка):** свойство объекта
- **Запись(строка):** совокупность полей
- Значения в каждом поле по отдельности **не должны содержать не валидных данных**
- Значения в совокупности полей должны быть непротивречивы

### **Плохие практики**
- Игнорирование нормализации - избыточность данных
- Отсутствие стандартов именования на проекте
- Одна таблица для разных по смыслу данных
- Наплевательское отношение к актулаьности репрезентации данных 

**Практические примеры**
- Поле, содержащее более 1 логической части (*full_name*)
	Например, когда заводят поле в которое записывают имя отчество и фамилию, вместо этого необходимо заводить **3** отдельных поля
- Поле, содержащее более 1 значения (массив, когда не надо)
- Вычислимое поле (полная зарплата за всё время работы)
- Неправильно выбранные первичные ключи (ИНН - плохой PK)
- Избегать композитных ключей (может приводить к деградации производительности)

- В идеале, в таблице кроме суррогатного ключа, должен быть и натуральный
- Правила иногда можно нарушать!
	Вычислимое поле даёт perfomance boost? Делаем вычислимое поле...

**Нормальная форма**
**Нормальная форма (НФ)** - свойство отношения, характеризующее его с точки зрения избыточности
**Нормализация** - процесс минимизации избыточности отношения (привидение к НФ)

**1НФ**
- Не строк-дубликатов
- Все атрибуты простых типов данных
- Все значения скалярные
![[Pasted image 20220722130932.png]]
**2 НФ**
- Таблица удовлетворяет 1НФ
- Есть первичный ключ
- Все атрибуты (поля) описывают первичный ключ целиком, а не лишь его часть
![[Pasted image 20220723191702.png]]

**3 НФ**
- удовлетворение 2-й НФ
- Нет зависимостей одник неключевых атрибутов от других (все атрибуты зависят только от первичного ключа)
