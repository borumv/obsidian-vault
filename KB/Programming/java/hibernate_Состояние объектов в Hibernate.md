---
tags: [java, hibernate, video]
---

Любой _новый_ java-объект созданный в программе первоначально находится во _временном_ состоянии (потому что если мы создали объект и ничего с ним сделали и завершили приложение, то он нигде не сохранится)
Из временного состояния он может уйти в [мусор](garbage%20collector) или перейти в _хранимое состояние_ (правильно назвать **контекст хранения**), если мы выполним операцию **persist()**.
Из хранимого состояния мы можем перевести его в удалённое состояние с помощью операции **remove()**
Если мы не сделали **comit()**, то мы можем вернуть этот объект в обратное состояние с помощью методов **persist()** или **merge()**

Когда мы достаём какой-то объект из базы данных, то Hibernate начинает за ним следить. Если мы не хотим, чтобы Hibernate считал данный объект связанным с какой-то таблицей то мы мы можем сделать **detach()**

Если мы делаем detach() или закрываем сессию, то объект может перейти в отсоединенное состояние откуда может уйти в мусор.

Откатить изменения можно вызовом метода **refresh()**. Он загружает текущее состояние экземпляра Item из базы данных и перезаписывает сделанные в памяти изменения.

**![[Pasted image 20220409101829.png]]**

source: geekbtainsVtb 