
## Этапы создания
1.Рецепты агрегированны на следующих ресурсах -
- food.com
- allrecipes.com
*Дополнительно:*
- [http://www.tarladalal.com](http://www.tarladalal.com)
- https://www.thespruceeats.com/
- https://www.epicurious.com/
- https://www.foodnetwork.com/
- https://www.taste.com.au/

2.Каждый рецепт можно разделить на 2 структуры - 1)Сам рецепт, 2)Ингридиенты 

3.Каждый ингридиент может иметь следующие состояния:
- Имя
- Состояние (*напр. молотый*)
- Единица измерения (грамм, чашка)
- Количество, которое связано с единицами измерения (*напр. 1 чайная лошка, 1 грамм*)
_Редактирование массива_
- Ингридиент сухой/свежий
- Температура применяемая перед приготовлением (*горячая/холодная*)
- ?*Размер порции (маленький, большой)*


Всё, что из статьи:
Эта статья о том, как были собраны данные о ингредиентах для создания датасета рецептов. Авторы использовали два источника рецептов, GeniusKitchen и AllRecipes, и выбрали их из-за единообразия структуры, доступности геокультурного маппинга и количества рецептов. Каждый рецепт был разделен на две части: раздел с ингредиентами и раздел с инструкциями для приготовления. Для сбора данных об ингредиентах авторы использовали семь атрибутов: название, состояние, единица измерения, количество, размер порции, температура и сухость / свежесть. Для обработки данных авторы использовали кластеризацию, модель именованной сущности (NER) и маркеры частей речи (POS). Было создано три датасета с разделением на обучающую и тестовую выборку, и были обучены три модели NER. Результаты показали, что модели показывают хорошие результаты в извлечении информации об ингредиентах из рецептов.


```postgresql
UPDATE raw_recipes SET ingredients[1] = substring(ingredients[1]  from '[^\"\[].*');
```

_Заполнение базы данных (не очень)_
```postgresql
			
CREATE OR REPLACE FUNCTION set_ingrid()RETURNS VOID AS $$
	DECLARE
	list_of_ingridients text[];
	ingridient text;
	
	BEGIN
		FOR list_of_ingridients IN SELECT ingredients FROM raw_recipes
		LOOP
		RAISE INFO 'list = %', list_of_ingridients;
					
					FOREACH ingridient IN ARRAY list_of_ingridients
						LOOP
							RAISE INFO 'product = %', ingridient;
								BEGIN
									IF ingridient IN (SELECT name FROM products_food_com_transit) THEN
										RAISE INFO 'nooo';
									ELSE
										INSERT INTO products_food_com_transit (name) VALUES (ingridient);
									END IF;
								END;													
						END LOOP;
						
		END LOOP;
	END;

$$ LANGUAGE plpgsql
```


# Построение базы данных

Какие источники есть:
1. https://foodb.ca/downloads 
FooDB — крупнейший в мире и наиболее полный ресурс по компонентам пищевых продуктов, химии и биологии. Он предоставляет информацию как о макроэлементах, так и о микроэлементах, включая многие компоненты, которые придают продуктам вкус, цвет, вкус, текстуру и аромат. Каждая химическая запись в FooDB содержит более 100 отдельных полей данных, охватывающих подробную информацию о составе, биохимии и физиологии (полученную из литературы). Сюда входят данные о номенклатуре соединения, его описании, информации о его структуре, химическом классе, его физико-химических данных, его источнике (источниках) пищи, его цвете, его аромате, его вкусе, его физиологическом действии, предполагаемом влиянии на здоровье (от опубликованные исследования) и концентрации в различных пищевых продуктах. Пользователи могут просматривать или искать FooDB по источнику пищи, названию, дескриптору, функции или концентрации. В зависимости от индивидуальных предпочтений пользователи могут просматривать содержимое FooDB из списка продуктов (перечисление продуктов по их химическому составу) или поиска соединений (перечисление химических веществ по их источникам питания).

2. FoodBase. https://academic.oup.com/database/article/doi/10.1093/database/baz121/5611291
	Представляет ресурс с аннотированными пищевыми объектами
	

 Среди ресурсов данных, которые отдаленно связаны с целями RecipeDB, FooDB фокусируется на составлении данных о пищевых химикатах (http://foodb.ca). FoodBase предоставляет ресурс аннотированных пищевых объектов (4). Некоторые другие базы данных, такие как FlavorDB (5), BitterDB (6), SuperSweet (7) и SuperScent (8), сосредоточились на вкусе и обонянии, пытаясь рассмотреть взаимодействие естественных объектов с человеческими органами чувств. Базы данных, такие как NutriChem (9) (пищевые факторы), Phenol-Explorer (10, 11) (полифенолы) и DietRx, подчеркивают ось питание-питание-здоровье (12). RecipeDB — это, пожалуй, единственный ресурс, который осмысленно объединяет все важные сведения о еде (рецепты, вкус, здоровье и пищевая ценность).

RecipeDB представляет собой структурированную аннотированную подборку из более чем 118 171 рецепта со всего мира, чтобы исследовать их кулинарные, питательные, вкусовые и полезные для здоровья корреляты (рис. 1). Разбивая рецепты на кулинарные элементы с помощью самых современных алгоритмов, он предоставляет базу данных рецептов с возможностью поиска. Помимо геокультурных координат рецептов, он также обеспечивает их диетические стили и характеризует их на основе процессов и посуды, используемой для приготовления пищи. Он учитывает временную последовательность обработки и предоставляет структурированную разбивку каждой фразы ингредиента на имя, количество, единицу измерения, состояние и другие соответствующие атрибуты. Важно отметить, что они интегрированы с данными о питании Министерства сельского хозяйства США (USDA). Кроме того, он связывает ингредиенты с FlavorDB (5), наиболее полным репертуаром вкусовых соединений из натуральных ингредиентов, и DietRx (13), базой данных, которая собирает информацию о влиянии пищевых ингредиентов на здоровье из MEDLINE с использованием протокола интеллектуального анализа текста.