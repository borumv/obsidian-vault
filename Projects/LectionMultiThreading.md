- –ü—É–ª—ã –ø–æ—Ç–æ–∫–æ–≤
- –ê—Ç–æ–º–∏–∫-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- CompletableFuture

**–ü–ü**
--

```md
# –ü—Ä–æ–±–ª–µ–º–∞
–ï—Å—Ç—å —è–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ (–ß–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ—Ç –∫–ª–∞—Å—Å–∞ Thread –∏–ª–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ Runnable)
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å –∫–∞–∫–æ–π-—Ç–æ –≤–µ–± —Å–µ—Ä–≤–∏—Å, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏–¥—É—Ç —Ä–∞–∑–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã. –í–æ-–ø–µ—Ä–≤—ã—Ö, –º—ã –Ω–µ –º–æ–∂–µ–º –æ–±—Å—á–∏—Ç—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Ç–æ —á–µ—Ä–µ–∑ –ø–∞—Ä—É –º–∏–Ω—É—Ç –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏–º–µ—Ä–Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é :D

–ï—Å–ª–∏ –º—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫, —Ç–æ –º—ã –º–æ–∂–µ–º —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏:
1) –ß—Ç–æ —É –Ω–∞—Å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ Thread-–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö.
2) –ù–∞ –∑–∞–ø—É—Å–∫ Thread-a —Ç—Ä–∞—Ç–∏—Ç—Å—è –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è
3) –û–¥–Ω–∏ –∑–∞–ø—Ä–æ—Å -> –û–¥–∏–Ω Thread -> –∑–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–æ–µ –≤—Ä–µ–º—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –∫—É—á–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö Threadov

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç Executor Framework in Java.
```

![[Pasted image 20220613191221.png]]


–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: Executor, ExecutorService –∏ —Ñ–∞–±—Ä–∏–∫–∞ Executors. –û–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Executor, –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å runnable-–∑–∞–¥–∞—á—É. 
**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Executor** –∏–º–µ–µ—Ç –æ–¥–∏–Ω –º–µ—Ç–æ–¥ void execute(Runnable command). –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –∑–∞–¥–∞—á–∏ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞ –≤ –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –¢–∞–∫–∂–µ —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–∑–¥–µ–ª—è–µ—Ç, –∫—Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á—É –∏ —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, ‚Äî –≤ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ Thread.

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ExecutorService** –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Executor –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π Callable, –¥–ª—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π –∑–∞–¥–∞—á–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–µ—Ç–æ–¥ **submit()**, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **Future<T>.** –° –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å, –µ—Å—Ç—å –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞ **isDone()**. –° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ **get() **–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–∞ **cancel()**.

#### Future
> [!INFO]
>  - –≠—Ç–æ –æ–±—ë—Ä—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –≤ –±—É–¥—É—â–µ–º
> - –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
> 	 - ExecutionException = —ç–∫—Å–µ–ø—à–Ω-–æ–±—ë—Ä—Ç–∫–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–µ—â–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –≤ –±–ª–æ–∫–µ –∫–æ–¥–∞.
> - –ò—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∫–∞–∫–æ–º-—Ç–æ –ø–æ—Ç–æ–∫–µ –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–∞–∫–æ–π-—Ç–æ (–¥—Ä—É–≥–æ–π) –ø–æ—Ç–æ–∫
> - –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ –ª–∏ —É–∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ (isDone)
> - –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ


**–ö–ª–∞—Å—Å Executors** ‚Äî —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞—Å—Å Collections. –ö–ª–∞—Å—Å Executors —Å–æ–∑–¥–∞–µ—Ç –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Executor –∏ ExecutorService. –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤, —Ç. –µ. —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ Executor –∏ ExecutorServcie:


–î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤ —É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ExecutorService –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤: **shutdown()**, **shutdownNow() **–∏ **awaitTermination(long timeout,¬†[TimeUnit](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html)¬†unit)**.

–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ **shutdown()** –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –æ–Ω–∏ –±—É–¥—É—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã, –∏ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω RejectedExecutionException.

–ú–µ—Ç–æ–¥ **shutdownNow()** –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–∏—Ç—å —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ.

–ú–µ—Ç–æ–¥ **awaitTermination(long timeout,¬†[TimeUnit](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html)¬†unit) **–±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑–≤–∞–ª —ç—Ç–æ—Ç –º–µ—Ç–æ–¥, –ø–æ–∫–∞ –≤—Å–µ –∑–∞–¥–∞—á–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç —Ä–∞–±–æ—Ç—É, –∏–ª–∏ –ø–æ–∫–∞ –Ω–µ –∏—Å—Ç–µ—á–µ—Ç —Ç–∞–π–º–∞—É—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–Ω –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞, –∏–ª–∏ –ø–æ–∫–∞ —Ç–µ–∫—É—â–∏–π –æ–∂–∏–¥–∞—é—â–∏–π –ø–æ—Ç–æ–∫ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–µ—Ä–≤–∞–Ω. –í –æ–±—â–µ–º, –ø–æ–∫–∞ –∫–∞–∫–æ–µ-—Ç–æ –∏–∑ —ç—Ç–∏—Ö —É—Å–ª–æ–≤–∏–π –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º.

*ThreadPoolExecutor*
	- corePoolSize - –Ω–∞—á–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤
	- maximumPoolSize - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤
	- workQueue - –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á

Executor.newCachedThreadPool
	- corePoolSize - 0
	- maximumPoolSize - Integer.MAX_VALUE
	- workQueue - SynchronousQueue (*–æ—á–µ—Ä–µ–¥—å –≤ –∫–æ—Ç–æ—Ä–æ–π –≤–æ–æ–±—â–µ –Ω–µ—Ç capacity*)
	–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏ –¥–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏

Executor.newFixedThreadPool
	- corePoolSize - n
	- maximumPoolSize - n
	- workQueue - LinkedBlockingQueue(*–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –∫–∞–ø–∞—Å–∏—Ç–∏*)
	–ü—Ä–æ–±–ª–µ–º–∞:
	 - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏ –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏ –¥–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏
	–ï—Å—Ç—å –µ—â—ë –æ–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞

*–ò—Å—Ö–æ–¥—è –∏–∑ —ç—Ç–æ–≥–æ, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π ThreadPool
newFixedBoundedThreadPool
	- corePoolSize - n
	- maximumPoolSize - n
	- workQueue - ArrayBlockingQueue
	–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥–∏ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫*


> [!Warning]
> –ü—Ä–æ–±–ª–µ–º–∞ —Å Executor.newFixedThreadPool –∏ –Ω–µ —Ç–æ–ª—å–∫–æ:
> - –í—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ LinkedBlockingQueue
> - –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –ø—ã—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç–∞—Ç—å –∑–∞–¥–∞—á–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ 
> - –î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–æ–Ω–æ–∫, –æ—á–µ—Ä–µ–¥—å –∑–∞—â–∏—â–µ–Ω–∞ ReentrantLock
> - ...–∫–æ—Ç–æ—Ä—ã–π –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ AbstractQueuedSynchronizer
> - ...–∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç park –≤ —Å–ª—É—á–∞–µ —Å contention
> - ...–∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç pthread_cont_wait
> - ...–∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ø–æ—Ç–æ–∫ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ TASK_INTERRUPTIBLE
> - **–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ**: –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π

**FJP**
---
FJP - —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ExecutorService.
–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–æ—Ä–∫—Å—Ç–∏–ª–∏–Ω–≥–∞ –≤ FJP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤—É—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –¥–µ–∫, —Å –≥–æ–ª–æ–≤—ã –±–µ—Ä—ë—Ç —Ä–∞–±–æ—Ç—É 1 –ø–æ—Ç–æ–∫, –∞ —Å —Ö–≤–æ—Å—Ç–∞ –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –æ—Å–≤–æ–±–æ–¥–∏–ª—Å—è -> –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å –æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∑–∞ –∑–∞–¥–∞—á–∏.
![[Pasted image 20220613103727.png]]

–î–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`push()`, –∞ –≤–ª–∞–¥–µ–ª–µ—Ü –æ—á–µ—Ä–µ–¥–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É, –≤—ã–∑—ã–≤–∞—è –º–µ—Ç–æ–¥¬†`pop()`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—á–µ—Ä–µ–¥–∏ —Å–∞–º–∞ –æ—á–µ—Ä–µ–¥—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ç–µ–∫–∞. –í —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ [[LIFO]]
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Ää‚Äî‚Ää –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í—Å–µ–≥–¥–∞, –≤—ã–±–∏—Ä–∞—è —Å–∞–º—É—é –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–¥–∞—á—É, –º—ã¬†**—É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–Ω—Å—ã –Ω–∞ —Ç–æ, —á—Ç–æ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–¥–∞—á–∏ –≤—Å–µ –µ—â–µ –±—É–¥—É—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –∫—ç—à–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞**, –∞ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –≠—Ç–æ –æ–±—ã—á–Ω–æ –Ω–∞–∑—ã–≤–∞—é—Ç¬†[–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å—é —Å—Å—ã–ª–æ–∫](https://en.wikipedia.org/wiki/Locality_of_reference).
–í–æ—Ä–∫-—Å—Ç–∏–ª–∏–Ω–≥ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `poll()` 
![[Pasted image 20220613104440.png]]

> [!INFO]
> –ú–µ—Ç–æ–¥—ã¬†`push`¬†–∏¬†`pop`¬†–≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—á–µ—Ä–µ–¥–∏, –∞ –º–µ—Ç–æ–¥¬†`poll`¬†–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º, –ø—ã—Ç–∞—é—â–∏–º—Å—è ‚Äú—É–∫—Ä–∞—Å—Ç—å‚Äù —Ä–∞–±–æ—Ç—É —É –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.

_ForkJoinTask_¬†—è–≤–ª—è–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–º —Ç–∏–ø–æ–º –¥–ª—è –∑–∞–¥–∞—á, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –≤–Ω—É—Ç—Ä–∏¬†_ForkJoinPool._¬†–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å–ª–µ–¥—É–µ—Ç —Ä–∞—Å—à–∏—Ä–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤:¬†_RecursiveAction_¬†–¥–ª—è¬†_void_¬†–∑–∞–¥–∞—á –∏¬†_RecursiveTask_¬†–¥–ª—è –∑–∞–¥–∞—á, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ.¬†–£ –Ω–∏—Ö –æ–±–æ–∏—Ö –µ—Å—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥¬†_compute ()_¬†, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–¥–∞—á–∏.


> [!INFO]
> **Linux runqueue**
> - Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –∫–∞–∂–¥–æ–µ —è–¥—Ä–æ
> - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–¥–∞—á–∏ –±–∞–ª–∞–Ω—Å–∏—Ä—É—é—Ç –º–µ–∂–¥—É —è–¥—Ä–∞–º–∏

FJP —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–¥—Ö–æ–¥ [[work-stealing]], —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ—Ç–æ–∫ —Å –ø—É—Å—Ç–æ–π –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á –∑–∞–±–∏—Ä–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–µ–π –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.
–í —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –∑–∞–¥–∞—á–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è FJP "—Ä–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π" –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –Ω–µ —Ç–∞–∫ —á–∞—Å—Ç–æ.
–î–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ [[üìôMOC-JAVA]] –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –µ–¥–∏–Ω–∞—è submission queue —É –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª –µ–¥–∏–Ω—ã–π –ª–æ–∫ –∏ —É –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–∏ —Ç–µ –∂–µ —Å–∞–º—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, —á—Ç–æ –∏ —É –æ–±—ã—á–Ω—ã—Ö ThreadPool.
–ù–æ, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ—è–≤–∏–ª–∞—Å—å Java 8:
- –ü–æ—è–≤–∏–ª—Å—è FJP.commonPool, —Ç—Ä–µ–¥–ø—É–ª–ª –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ –¥–µ—Ñ–æ–ª—Ç—É
- ...–∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ default executor –¥–ª—è CompletionStage
- –≠—Ç–æ –≤–Ω–µ—à–Ω–∏–µ, –Ω–µ—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –¢–µ–ø–µ—Ä—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ submission queue —Ä–∞–≤–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç—Ä–µ–¥–æ–≤

FJP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥–µ–π –∏ –º–µ—Ö–∞–Ω–∏–∑–º work-stealing –¥–ª—è –±–æ—Ä—å–±—ã —Å contention


#### CompletableFuture

  
**CompletableFuture** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Java. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ —Å—Ä–µ–¥—Å—Ç–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è¬†–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ¬†–∫–æ–¥–∞ –ø—É—Ç—ë–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º, –æ—Ç–ª–∏—á–Ω–æ–º –æ—Ç –≥–ª–∞–≤–Ω–æ–≥–æ, –ø–æ—Ç–æ–∫–µ, –∞ —Ç–∞–∫–∂–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –æ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–ª–∏ —Å–±–æ–µ.
  
CompletableFuture —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ¬†[Future API](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html), –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≤ Java 5.  
  
Future –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏. –í –Ω—ë–º –µ—Å—Ç—å –º–µ—Ç–æ–¥¬†isDone()¬†–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –ª–∏ –∑–∞–¥–∞—á–∞ –∏–ª–∏ –Ω–µ—Ç, –∞ —Ç–∞–∫–∂–µ –º–µ—Ç–æ–¥¬†get()¬†–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ—Å–ª–µ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.  
  
Future API –±—ã–ª —Ö–æ—Ä–æ—à–∏–º —à–∞–≥–æ–º –Ω–∞ –ø—É—Ç–∏ –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é, –Ω–æ –µ–º—É –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–∞–∂–Ω—ã—Ö –∏ –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

> –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Future
>  - –ù–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º Future –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è.
> 	 - Future –Ω–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ —Å–≤–æ—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏. –í –Ω—ë–º –µ—Å—Ç—å –º–µ—Ç–æ–¥¬†get(), –∫–æ—Ç–æ—Ä—ã–π¬†**–±–ª–æ–∫–∏—Ä—É–µ—Ç**¬†–ø–æ—Ç–æ–∫ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º.  –¢–∞–∫–∂–µ –≤ Future –Ω–µ–ª—å–∑—è –ø–æ–≤–µ—Å–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–ª–±—ç–∫, —á—Ç–æ–±—ã –æ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
> - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ Future –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º
>     - –ë—ã–≤–∞—é—Ç —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –ø–æ—Å–ª–µ –µ—ë –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥—Ä—É–≥–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.  –¢–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Future.
>  - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Future.
> 	 - –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å 10 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á –≤–æ Future, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –∏ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤—Å–µ –æ–Ω–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è, –≤—ã–∑–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é —Ñ—É–Ω–∫—Ü–∏—é. –° Future –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –∏ —ç—Ç–æ.
>  - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
> 	 - Future API –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

–°–æ–∑–¥–∞–Ω–∏–µ CompletableFuture
```java
CompletableFuture.runAsync() \\¬†–ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç
CompletableFuture.supplyAsync() \\–û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç¬†Supplier<T>¬†–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†CompletableFuture<T>, –≥–¥–µ T —ç—Ç–æ —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–µ–π-–ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º
```
–ï—Å–ª–∏ **–Ω–µ—Ç –ø—Ä–∏—Å—Ç–∞–≤–∫–∏ Async**, —Ç–æ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–æ—Ç–æ–∫–µ.

CompletableFuture –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ç Future –∏ [[java_CompletionStage]]
CompletionStage
apply(Funcntion<T,R> -> ComplitionStage<R>) - –∫–æ–≥–¥–∞ –µ—Å—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, combine –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å—Ç –∏ —Ç–¥
accept(Consumer<T>) - –∫–æ–≥–¥–∞ –∫ –Ω–∞–º –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫–æ–π-—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –º—ã –Ω–µ –¥–µ–ª–∞–µ–º –Ω–∏–∫–∞–∫—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
run(Runnable)

–ù–∞–±–æ—Ä—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:
1) –£–Ω–∞—Ä–Ω—ã–µ –º–µ—Ç–æ–¥—ã
	-thenApply -thenAccept -thenRun
2-3) –ë–∏–Ω–∞—Ä–Ω—ã–µ –º—Ç–æ–¥—ã
	OR - applyToEither, acceptEither, runAfterEither
	AND - thenCombine (reduce), thenAccecBoth, runAfterBoth


–ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å (—Ç.–µ. –Ω–µ —Å—Ç—Ä–æ—è—Ç—Å—è –∏–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤):
-thenCompose (flatMap)
-handle/whenComplete
-exceptionally/exceptionallyCompose
-toCompletableFuture

–î–ª—è –Ω–∞–±–æ—Ä–∞:
- CompletableFuture<Object> anyOf(CompletableFuture<?> ... cfs) - –∫–æ–≥–¥–∞ –ø–æ—Å–ª–∞–ª –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∫—Ç–æ –ø–µ—Ä–≤—ã–π –ø–æ–ª—É—á–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–æ–≥–æ –∏ –≤–∑—è–ª–∞.
- CompletableFuture<Void> allOf(CompletableFuture<?> ... cfs) - —Å–æ–±–∏—Ä–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ—Ö 

> [!INFO]
> –í –∫–∞–∫–æ–π –≤–µ—Ç–∫–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ç–µ –∏–ª–∏ –∏–Ω—ã–µ –º–µ—Ç–æ–¥—ã (thenApplyAsync, supplyAsync ...) –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –≤ –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞—à CompletableFuture - –æ–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∂–µ –∑–∞–∫–æ–º–ø–ª–∏—á–µ–Ω–æ –∏–ª–∏ –µ—â—ë –Ω–µ—Ç. 
> –ï—Å–ª–∏ –ú—ã –Ω–µ –∑–∞–∫–æ–º–ø–ª–∏—á–µ–Ω—ã, —Ç–æ –º—ã **–ø–æ–ø–∞–¥—ë–º –≤ –Ω–∏—Ç–∫—É Executor-a**, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∫–∞–∑–∞–ª–∏ (*–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - ForkJoinPool.CommonPool()*)
> –ê –µ—Å–ª–∏ –º—ã –∑–∞–∫–æ–º–ø–ª–∏—á–µ–Ω—ã - —Ç–æ –ø–æ—Ç–æ–∫ —É–∂–µ –±—É–¥–µ—Ç **—Ç–µ–∫—É—â–∏–º –ø–æ—Ç–æ–∫–æ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**


**ABQ**
---

ArrayBLockingQueue —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∞–Ω–∞–ª–æ–≥–æ–º (FIFO](FIFO)
...new ArrayBlockingWyeye<Integer>(10) 

queue.put(9) - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
queue.take() - –≤–∑—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –æ—á–µ—Ä–µ–¥–∏, –±—É–¥–µ—Ç –∂–¥–∞—Ç—å, –µ—Å–ª–∏ —Ç–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ—Ç




